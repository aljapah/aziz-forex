<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aziz Forex - ŸÖÿ±ÿßŸÇÿ® ÿßŸÑÿ≥ŸàŸÇ</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0a0a0a 100%);
            min-height: 100vh;
            color: #fff;
        }
        
        body.en { font-family: 'Inter', sans-serif; direction: ltr; }
        
        .container { max-width: 500px; margin: 0 auto; padding: 15px; }
        
        /* Language Toggle */
        .lang-toggle {
            position: fixed;
            top: 15px;
            left: 15px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 20px;
            padding: 5px;
            display: flex;
            gap: 5px;
            z-index: 100;
        }
        
        .lang-btn {
            padding: 5px 12px;
            border: none;
            background: transparent;
            color: #888;
            cursor: pointer;
            border-radius: 15px;
            font-size: 0.75rem;
            transition: all 0.3s;
        }
        
        .lang-btn.active {
            background: #00d4ff;
            color: #000;
        }
        
        .header {
            text-align: center;
            padding: 25px 0 15px;
            margin-bottom: 15px;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(135deg, #00d4ff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle { color: #666; margin-top: 3px; font-size: 0.75rem; }
        
        /* Intro Section */
        .intro {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.08), rgba(0, 255, 136, 0.05));
            border: 1px solid rgba(0, 212, 255, 0.15);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .intro-title {
            font-size: 0.9rem;
            font-weight: 700;
            color: #00d4ff;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .intro-text {
            font-size: 0.78rem;
            color: #aaa;
            line-height: 1.6;
        }
        
        .intro-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-top: 12px;
        }
        
        .intro-feature {
            background: rgba(0,0,0,0.2);
            padding: 10px;
            border-radius: 8px;
            text-align: center;
        }
        
        .intro-feature-icon {
            font-size: 1.2rem;
            margin-bottom: 4px;
        }
        
        .intro-feature-text {
            font-size: 0.7rem;
            color: #888;
        }
        
        .intro-toggle {
            text-align: center;
            margin-top: 10px;
        }
        
        .intro-toggle-btn {
            background: none;
            border: none;
            color: #00d4ff;
            font-size: 0.7rem;
            cursor: pointer;
            padding: 5px 10px;
        }
        
        .intro-toggle-btn:hover {
            text-decoration: underline;
        }
        
        .intro.collapsed .intro-text,
        .intro.collapsed .intro-features {
            display: none;
        }
        
        /* Status */
        .status-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 10px;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 10px;
            margin-bottom: 15px;
            border: 1px solid rgba(0, 212, 255, 0.2);
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            background: #00ff88;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        
        .status-text { color: #00ff88; font-weight: 500; font-size: 0.8rem; }
        
        /* Cards */
        .card {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s;
            margin-bottom: 10px;
        }
        
        .card.active {
            background: rgba(255,255,255,0.05);
            border-color: #00d4ff;
        }
        
        .card-header {
            padding: 12px 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background 0.3s;
        }
        
        .card-header:hover { background: rgba(255,255,255,0.05); }
        
        .card-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .card-icon { font-size: 1.1rem; }
        
        .card-info {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .card-value {
            font-size: 0.7rem;
            color: #00d4ff;
            background: rgba(0, 212, 255, 0.1);
            padding: 3px 8px;
            border-radius: 10px;
        }
        
        .card-arrow {
            color: #666;
            transition: transform 0.3s;
            font-size: 0.7rem;
        }
        
        .card.active .card-arrow { transform: rotate(180deg); }
        
        .card-content {
            display: none;
            padding: 0 15px 15px;
        }
        
        .card.active .card-content { display: block; }
        
        /* Form Elements */
        .form-group { margin-bottom: 12px; }
        
        .form-label {
            display: block;
            margin-bottom: 6px;
            color: #888;
            font-size: 0.75rem;
        }
        
        .form-select, .form-input {
            width: 100%;
            padding: 10px 12px;
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 8px;
            color: #fff;
            font-size: 0.85rem;
            font-family: inherit;
        }
        
        .form-select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23888' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10l-5 5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: left 12px center;
        }
        
        body.en .form-select { background-position: right 12px center; }
        
        .form-select:focus, .form-input:focus {
            outline: none;
            border-color: #00d4ff;
        }
        
        .form-select option { background: #1a1a2e; }
        
        .form-hint { font-size: 0.65rem; color: #555; margin-top: 4px; }
        
        /* Checkbox */
        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 0.8rem;
            color: #aaa;
        }
        
        .checkbox-label input {
            width: 16px;
            height: 16px;
            accent-color: #00d4ff;
        }
        
        /* Categories Grid */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }
        
        .category-card {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s;
        }
        
        .category-card.active {
            border-color: #00d4ff;
            background: rgba(0, 212, 255, 0.05);
        }
        
        .category-header {
            padding: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .category-title {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .category-count {
            background: #00d4ff;
            color: #000;
            font-size: 0.6rem;
            padding: 2px 6px;
            border-radius: 8px;
            font-weight: 700;
        }
        
        .category-items {
            display: none;
            padding: 5px 10px 10px;
            max-height: 150px;
            overflow-y: auto;
        }
        
        .category-card.active .category-items { display: block; }
        
        .pair-item {
            padding: 6px 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            border-radius: 6px;
            transition: background 0.2s;
            font-size: 0.75rem;
        }
        
        .pair-item:hover { background: rgba(255,255,255,0.1); }
        
        .pair-item.selected { background: rgba(0, 212, 255, 0.15); }
        
        .pair-checkbox {
            width: 14px;
            height: 14px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 9px;
            flex-shrink: 0;
        }
        
        .pair-item.selected .pair-checkbox {
            background: #00d4ff;
            border-color: #00d4ff;
            color: #000;
        }
        
        /* Notifications Row */
        .notif-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        /* Start Button */
        .start-btn {
            width: 100%;
            padding: 14px;
            font-size: 1rem;
            font-weight: 700;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            background: linear-gradient(135deg, #00d4ff, #00ff88);
            color: #000;
            margin-top: 10px;
            margin-bottom: 15px;
        }
        
        .start-btn:disabled {
            background: #333;
            color: #555;
            cursor: not-allowed;
        }
        
        .stop-btn { background: linear-gradient(135deg, #ff4444, #ff6b6b); }
        
        /* Signal */
        .signal-card {
            display: none;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 15px;
        }
        
        .signal-card.buy {
            display: block;
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.15), rgba(0, 255, 136, 0.05));
            border: 2px solid #00ff88;
        }
        
        .signal-card.sell {
            display: block;
            background: linear-gradient(135deg, rgba(255, 68, 68, 0.15), rgba(255, 68, 68, 0.05));
            border: 2px solid #ff4444;
        }
        
        .signal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .signal-type { font-size: 1.2rem; font-weight: 800; }
        .signal-type.buy { color: #00ff88; }
        .signal-type.sell { color: #ff4444; }
        
        .signal-pair { font-size: 0.9rem; }
        
        .signal-details { display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px; }
        
        .signal-item {
            background: rgba(0,0,0,0.3);
            padding: 8px 5px;
            border-radius: 6px;
            text-align: center;
        }
        
        .signal-label { font-size: 0.6rem; color: #888; margin-bottom: 2px; }
        .signal-value { font-size: 0.8rem; font-weight: 700; }
        
        /* Waiting */
        .waiting {
            text-align: center;
            padding: 20px;
            color: #555;
            display: none;
        }
        
        .waiting.active { display: block; }
        .waiting-icon { font-size: 1.8rem; margin-bottom: 5px; }
        
        .footer { text-align: center; padding: 10px; color: #333; font-size: 0.65rem; }
        
        /* Data Sources */
        .data-sources {
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 10px;
            padding: 12px;
            margin-top: 15px;
        }
        
        .data-sources-title {
            font-size: 0.7rem;
            color: #666;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .data-sources-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }
        
        .data-source {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(0,0,0,0.2);
            padding: 8px 10px;
            border-radius: 8px;
        }
        
        .data-source-icon {
            width: 24px;
            height: 24px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            flex-shrink: 0;
        }
        
        .data-source-icon.yahoo {
            background: linear-gradient(135deg, #6001d2, #410093);
        }
        
        .data-source-icon.tv {
            background: linear-gradient(135deg, #2962ff, #1e88e5);
        }
        
        .data-source-icon.ai {
            background: linear-gradient(135deg, #00d4ff, #00ff88);
        }
        
        .data-source-info {
            flex: 1;
            min-width: 0;
        }
        
        .data-source-name {
            font-size: 0.7rem;
            font-weight: 600;
            color: #fff;
        }
        
        .data-source-desc {
            font-size: 0.6rem;
            color: #666;
        }
        
        .data-disclaimer {
            text-align: center;
            margin-top: 10px;
            font-size: 0.6rem;
            color: #444;
            padding: 8px;
            background: rgba(255, 200, 0, 0.05);
            border-radius: 6px;
            border: 1px solid rgba(255, 200, 0, 0.1);
        }
        
        /* Total Selected Badge */
        .total-selected {
            text-align: center;
            margin-top: 10px;
            font-size: 0.75rem;
            color: #888;
        }
        
        .total-selected span {
            background: #00d4ff;
            color: #000;
            padding: 3px 10px;
            border-radius: 10px;
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div class="lang-toggle">
        <button class="lang-btn active" onclick="setLang('ar')">ÿπÿ±ÿ®Ÿä</button>
        <button class="lang-btn" onclick="setLang('en')">EN</button>
    </div>
    
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">Aziz Forex</div>
            <div class="subtitle" data-ar="ŸÖÿ±ÿßŸÇÿ® ÿßŸÑÿ≥ŸàŸÇ ÿ®ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä" data-en="AI Market Monitor"></div>
        </div>
        
        <!-- Intro -->
        <div class="intro" id="introSection">
            <div class="intro-title">
                <span>‚ú®</span>
                <span data-ar="ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ ŸÅŸä ÿπÿ≤Ÿäÿ≤ ŸÅŸàÿ±ŸÉÿ≥" data-en="Welcome to Aziz Forex"></span>
            </div>
            <div class="intro-text" data-ar="ŸÖÿ±ÿßŸÇÿ® ÿ∞ŸÉŸä ŸäÿπŸÖŸÑ ÿ®ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä ŸÑŸÖÿ™ÿßÿ®ÿπÿ© ÿßŸÑÿ£ÿ≥ŸàÿßŸÇ ÿßŸÑŸÖÿßŸÑŸäÿ© ÿπŸÑŸâ ŸÖÿØÿßÿ± ÿßŸÑÿ≥ÿßÿπÿ©. ÿßÿÆÿ™ÿ± ÿßŸÑÿ£ÿ≤Ÿàÿßÿ¨ ŸàÿßŸÑÿßÿ≥ÿ™ÿ±ÿßÿ™Ÿäÿ¨Ÿäÿ©ÿå Ÿàÿ≥ŸäŸÇŸàŸÖ ÿßŸÑÿ∞ŸÉÿßÿ° ÿ®ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ≥ŸàŸÇ Ÿàÿ•ÿ±ÿ≥ÿßŸÑ ÿ™ŸàÿµŸäÿßÿ™ ÿ¥ÿ±ÿßÿ°/ÿ®Ÿäÿπ ŸÖÿ®ÿßÿ¥ÿ±ÿ© ÿ•ŸÑŸâ ÿ¨ŸàÿßŸÑŸÉ." data-en="An AI-powered smart monitor that tracks financial markets 24/7. Select your pairs and strategy, and the AI will analyze the market and send buy/sell recommendations directly to your phone."></div>
            
            <div class="intro-features">
                <div class="intro-feature">
                    <div class="intro-feature-icon">ü§ñ</div>
                    <div class="intro-feature-text" data-ar="ÿ™ÿ≠ŸÑŸäŸÑ ÿ∞ŸÉŸä ÿ≠ŸÇŸäŸÇŸä" data-en="Real AI Analysis"></div>
                </div>
                <div class="intro-feature">
                    <div class="intro-feature-icon">üìä</div>
                    <div class="intro-feature-text" data-ar="ŸÇÿ±ÿßÿ°ÿ© ÿßŸÑÿ¥ÿßÿ±ÿ™ ÿ®ÿµÿ±ŸäÿßŸã" data-en="Visual Chart Reading"></div>
                </div>
                <div class="intro-feature">
                    <div class="intro-feature-icon">üîî</div>
                    <div class="intro-feature-text" data-ar="ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ŸÅŸàÿ±Ÿäÿ©" data-en="Instant Notifications"></div>
                </div>
                <div class="intro-feature">
                    <div class="intro-feature-icon">üéØ</div>
                    <div class="intro-feature-text" data-ar="Entry / SL / TP" data-en="Entry / SL / TP"></div>
                </div>
            </div>
            
            <div class="intro-toggle">
                <button class="intro-toggle-btn" onclick="toggleIntro()" data-ar="ÿ•ÿÆŸÅÿßÿ° ‚ñ≤" data-en="Hide ‚ñ≤"></button>
            </div>
        </div>
        
        <!-- Status -->
        <div class="status-bar">
            <div class="status-dot" id="statusDot"></div>
            <span class="status-text" id="statusText" data-ar="ÿ¨ÿßŸáÿ≤ ŸÑŸÑŸÖÿ±ÿßŸÇÿ®ÿ©" data-en="Ready to monitor"></span>
        </div>
        
        <!-- AI Card -->
        <div class="card" id="aiCard">
            <div class="card-header" onclick="toggleCard('aiCard')">
                <div class="card-title">
                    <span class="card-icon">ü§ñ</span>
                    <span data-ar="ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä" data-en="AI Model"></span>
                </div>
                <div class="card-info">
                    <span class="card-value" id="aiValue">GPT-4</span>
                    <span class="card-arrow">‚ñº</span>
                </div>
            </div>
            <div class="card-content">
                <div class="form-group">
                    <label class="form-label" data-ar="ŸÜŸàÿπ ÿßŸÑÿ∞ŸÉÿßÿ°" data-en="AI Type"></label>
                    <select class="form-select" id="aiType" onchange="updateCardValue('aiCard', 'aiValue', this.options[this.selectedIndex].text)">
                        <option value="openai">OpenAI (GPT-4)</option>
                        <option value="anthropic">Anthropic (Claude)</option>
                        <option value="google">Google (Gemini)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" data-ar="ŸÖŸÅÿ™ÿßÿ≠ API" data-en="API Key"></label>
                    <input type="password" class="form-input" id="apiKey" placeholder="sk-...">
                    <div class="form-hint" data-ar="üîí ŸäŸèÿ≠ŸÅÿ∏ ŸÖÿ≠ŸÑŸäÿßŸã ŸÅŸÇÿ∑" data-en="üîí Stored locally only"></div>
                </div>
            </div>
        </div>
        
        <!-- Pairs Card -->
        <div class="card" id="pairsCard">
            <div class="card-header" onclick="toggleCard('pairsCard')">
                <div class="card-title">
                    <span class="card-icon">üí±</span>
                    <span data-ar="ÿßŸÑÿ£ÿ≤Ÿàÿßÿ¨" data-en="Trading Pairs"></span>
                </div>
                <div class="card-info">
                    <span class="card-value" id="pairsCount">0</span>
                    <span class="card-arrow">‚ñº</span>
                </div>
            </div>
            <div class="card-content">
                <div class="categories-grid" id="categoriesGrid"></div>
                <div class="total-selected" id="totalSelected"></div>
            </div>
        </div>
        
        <!-- Strategy Card -->
        <div class="card" id="strategyCard">
            <div class="card-header" onclick="toggleCard('strategyCard')">
                <div class="card-title">
                    <span class="card-icon">üìà</span>
                    <span data-ar="ÿßŸÑÿßÿ≥ÿ™ÿ±ÿßÿ™Ÿäÿ¨Ÿäÿ©" data-en="Strategy"></span>
                </div>
                <div class="card-info">
                    <span class="card-value" id="strategyValue">RSI</span>
                    <span class="card-arrow">‚ñº</span>
                </div>
            </div>
            <div class="card-content">
                <div class="form-group">
                    <select class="form-select" id="strategy" onchange="updateCardValue('strategyCard', 'strategyValue', this.options[this.selectedIndex].text.split(' ')[0])">
                        <option value="rsi" data-ar="RSI (ÿ∞ÿ±Ÿàÿ© ÿßŸÑÿ®Ÿäÿπ/ÿßŸÑÿ¥ÿ±ÿßÿ°)" data-en="RSI (Overbought/Oversold)">RSI</option>
                        <option value="trend" data-ar="Trend (ÿ™ÿ™ÿ®ÿπ ÿßŸÑÿßÿ™ÿ¨ÿßŸá)" data-en="Trend Following">Trend</option>
                        <option value="breakout" data-ar="Breakout (ŸÉÿ≥ÿ± ÿßŸÑŸÖÿ≥ÿ™ŸàŸäÿßÿ™)" data-en="Breakout Trading">Breakout</option>
                        <option value="scalping" data-ar="Scalping (ŸÖÿ∂ÿßÿ±ÿ®ÿ© ÿ≥ÿ±Ÿäÿπÿ©)" data-en="Scalping">Scalping</option>
                        <option value="swing" data-ar="Swing (ÿ™ÿØÿßŸàŸÑ ŸÖÿ™ÿ£ÿ±ÿ¨ÿ≠)" data-en="Swing Trading">Swing</option>
                        <option value="price_action" data-ar="Price Action (ÿ≠ÿ±ŸÉÿ© ÿßŸÑÿ≥ÿπÿ±)" data-en="Price Action">Price Action</option>
                        <option value="smart_money" data-ar="Smart Money (ÿßŸÑÿ≥ŸäŸàŸÑÿ© ÿßŸÑÿ∞ŸÉŸäÿ©)" data-en="Smart Money Concepts">Smart Money</option>
                        <option value="supply_demand" data-ar="Supply/Demand (ÿπÿ±ÿ∂ Ÿàÿ∑ŸÑÿ®)" data-en="Supply & Demand">Supply/Demand</option>
                    </select>
                </div>
                <label class="checkbox-label">
                    <input type="checkbox" id="useChart" checked>
                    <span data-ar="ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ¥ÿßÿ±ÿ™ ÿ®ÿµÿ±ŸäÿßŸã" data-en="Visual chart analysis"></span>
                </label>
            </div>
        </div>
        
        <!-- Notifications Card -->
        <div class="card" id="notifyCard">
            <div class="card-header" onclick="toggleCard('notifyCard')">
                <div class="card-title">
                    <span class="card-icon">üîî</span>
                    <span data-ar="ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™" data-en="Notifications"></span>
                </div>
                <div class="card-info">
                    <span class="card-value" id="notifyValue">--</span>
                    <span class="card-arrow">‚ñº</span>
                </div>
            </div>
            <div class="card-content">
                <div class="notif-row">
                    <div class="form-group">
                        <label class="form-label">üì± Ntfy</label>
                        <input type="text" class="form-input" id="ntfyChannel" placeholder="my-alerts" oninput="updateNotifyValue()">
                    </div>
                    <div class="form-group">
                        <label class="form-label">‚úàÔ∏è Telegram</label>
                        <input type="text" class="form-input" id="telegramChat" placeholder="Chat ID" oninput="updateNotifyValue()">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" data-ar="Telegram Bot Token" data-en="Telegram Bot Token"></label>
                    <input type="password" class="form-input" id="telegramToken" placeholder="123456:ABC...">
                    <div class="form-hint" data-ar="ÿßÿ≠ÿµŸÑ ÿπŸÑŸäŸá ŸÖŸÜ @BotFather" data-en="Get from @BotFather"></div>
                </div>
            </div>
        </div>
        
        <!-- Start Button -->
        <button class="start-btn" id="startBtn" onclick="toggleMonitoring()" disabled data-ar="ÿßÿ®ÿØÿ£ ÿßŸÑŸÖÿ±ÿßŸÇÿ®ÿ©" data-en="Start Monitoring"></button>
        
        <!-- Signal -->
        <div class="signal-card" id="signalCard">
            <div class="signal-header">
                <span class="signal-type" id="signalType">üü¢ ÿ¥ÿ±ÿßÿ°</span>
                <span class="signal-pair" id="signalPair">BTC/USD</span>
            </div>
            <div class="signal-details">
                <div class="signal-item">
                    <div class="signal-label" data-ar="ÿßŸÑÿØÿÆŸàŸÑ" data-en="Entry"></div>
                    <div class="signal-value" id="entryPrice">--</div>
                </div>
                <div class="signal-item">
                    <div class="signal-label" data-ar="ŸàŸÇŸÅ" data-en="SL"></div>
                    <div class="signal-value" id="slPrice">--</div>
                </div>
                <div class="signal-item">
                    <div class="signal-label" data-ar="ŸáÿØŸÅ" data-en="TP"></div>
                    <div class="signal-value" id="tpPrice">--</div>
                </div>
                <div class="signal-item">
                    <div class="signal-label" data-ar="ŸÑŸàÿ™" data-en="Lot"></div>
                    <div class="signal-value" id="lotSize">--</div>
                </div>
            </div>
        </div>
        
        <!-- Waiting -->
        <div class="waiting" id="waiting">
            <div class="waiting-icon">‚è≥</div>
            <div data-ar="Ÿäÿ±ÿßŸÇÿ® ÿßŸÑÿ≥ŸàŸÇ..." data-en="Monitoring market..."></div>
        </div>
        
        <!-- Data Sources -->
        <div class="data-sources">
            <div class="data-sources-title" data-ar="üì° ŸÖÿµÿßÿØÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™" data-en="üì° Data Sources"></div>
            <div class="data-sources-grid">
                <div class="data-source">
                    <div class="data-source-icon yahoo">Y!</div>
                    <div class="data-source-info">
                        <div class="data-source-name">Yahoo Finance</div>
                        <div class="data-source-desc" data-ar="ÿßŸÑÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿ≠Ÿäÿ©" data-en="Live Prices"></div>
                    </div>
                </div>
                <div class="data-source">
                    <div class="data-source-icon tv">üìà</div>
                    <div class="data-source-info">
                        <div class="data-source-name">TradingView</div>
                        <div class="data-source-desc" data-ar="ÿßŸÑÿ¥ÿßÿ±ÿ™ÿßÿ™" data-en="Charts"></div>
                    </div>
                </div>
                <div class="data-source">
                    <div class="data-source-icon ai">üß†</div>
                    <div class="data-source-info">
                        <div class="data-source-name" data-ar="ÿ∞ŸÉÿßÿ° ÿßÿµÿ∑ŸÜÿßÿπŸä" data-en="AI Models"></div>
                        <div class="data-source-desc">GPT-4 / Claude / Gemini</div>
                    </div>
                </div>
                <div class="data-source">
                    <div class="data-source-icon" style="background: linear-gradient(135deg, #ff6b6b, #ee5a5a);">‚è±</div>
                    <div class="data-source-info">
                        <div class="data-source-name" data-ar="ÿ™ÿ≠ÿØŸäÿ´ ŸÖÿ≥ÿ™ŸÖÿ±" data-en="Live Updates"></div>
                        <div class="data-source-desc" data-ar="ŸÉŸÑ ÿØŸÇŸäŸÇÿ™ŸäŸÜ" data-en="Every 2 min"></div>
                    </div>
                </div>
            </div>
            <div class="data-disclaimer" data-ar="‚ö†Ô∏è ÿßŸÑÿ™ŸàÿµŸäÿßÿ™ ŸÑŸÑÿ£ÿ∫ÿ±ÿßÿ∂ ÿßŸÑÿ™ÿπŸÑŸäŸÖŸäÿ© ŸÅŸÇÿ∑. ŸÇÿ±ÿßÿ±ÿßÿ™ ÿßŸÑÿ™ÿØÿßŸàŸÑ ŸÖÿ≥ÿ§ŸàŸÑŸäÿ™ŸÉ ÿßŸÑÿ¥ÿÆÿµŸäÿ©." data-en="‚ö†Ô∏è Recommendations are for educational purposes only. Trading decisions are your own responsibility."></div>
        </div>
        
        <div class="footer">Aziz Forex ¬© 2024</div>
    </div>
    
    <script>
        // Language
        let currentLang = localStorage.getItem('lang') || 'ar';
        let introCollapsed = localStorage.getItem('introCollapsed') === 'true';
        
        function toggleIntro() {
            const intro = document.getElementById('introSection');
            const btn = intro.querySelector('.intro-toggle-btn');
            introCollapsed = !introCollapsed;
            intro.classList.toggle('collapsed', introCollapsed);
            
            if (introCollapsed) {
                btn.setAttribute('data-ar', 'ÿ•ÿ∏Ÿáÿßÿ± ÿßŸÑŸÖŸÇÿØŸÖÿ© ‚ñº');
                btn.setAttribute('data-en', 'Show intro ‚ñº');
            } else {
                btn.setAttribute('data-ar', 'ÿ•ÿÆŸÅÿßÿ° ‚ñ≤');
                btn.setAttribute('data-en', 'Hide ‚ñ≤');
            }
            btn.textContent = btn.getAttribute(`data-${currentLang}`);
            localStorage.setItem('introCollapsed', introCollapsed);
        }
        
        function setLang(lang) {
            currentLang = lang;
            localStorage.setItem('lang', lang);
            document.body.classList.toggle('en', lang === 'en');
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            document.documentElement.lang = lang;
            
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.textContent.includes(lang === 'ar' ? 'ÿπÿ±ÿ®Ÿä' : 'EN'));
            });
            
            document.querySelectorAll('[data-ar]').forEach(el => {
                el.textContent = el.getAttribute(`data-${lang}`);
            });
            
            // Update strategy options
            document.querySelectorAll('#strategy option').forEach(opt => {
                if (opt.dataset.ar && opt.dataset.en) {
                    opt.textContent = opt.getAttribute(`data-${lang}`);
                }
            });
            
            buildCategories();
            updateTotalSelected();
        }
        
        // Categories Data
        const categoriesData = {
            crypto: {
                icon: 'üí∞',
                name: { ar: 'ŸÉÿ±Ÿäÿ®ÿ™Ÿà', en: 'Crypto' },
                pairs: [
                    { symbol: 'BTC-USD', name: 'BTC/USD', label: { ar: 'ÿ®Ÿäÿ™ŸÉŸàŸäŸÜ', en: 'Bitcoin' } },
                    { symbol: 'ETH-USD', name: 'ETH/USD', label: { ar: 'ÿ•Ÿäÿ´ÿ±ŸäŸàŸÖ', en: 'Ethereum' } },
                    { symbol: 'BNB-USD', name: 'BNB/USD', label: { ar: 'ÿ®ÿßŸäŸÜÿßŸÜÿ≥', en: 'Binance' } },
                    { symbol: 'SOL-USD', name: 'SOL/USD', label: { ar: 'ÿ≥ŸàŸÑÿßŸÜÿß', en: 'Solana' } },
                    { symbol: 'XRP-USD', name: 'XRP/USD', label: { ar: 'ÿ±Ÿäÿ®ŸÑ', en: 'Ripple' } },
                    { symbol: 'DOGE-USD', name: 'DOGE/USD', label: { ar: 'ÿØŸàÿ¨', en: 'Dogecoin' } },
                    { symbol: 'ADA-USD', name: 'ADA/USD', label: { ar: 'ŸÉÿßÿ±ÿØÿßŸÜŸà', en: 'Cardano' } },
                    { symbol: 'AVAX-USD', name: 'AVAX/USD', label: { ar: 'ÿ£ŸÅÿßŸÑÿßŸÜÿ¥', en: 'Avalanche' } },
                ]
            },
            forex: {
                icon: 'üíµ',
                name: { ar: 'ŸÅŸàÿ±ŸÉÿ≥', en: 'Forex' },
                pairs: [
                    { symbol: 'EURUSD=X', name: 'EUR/USD', label: { ar: 'ŸäŸàÿ±Ÿà/ÿØŸàŸÑÿßÿ±', en: 'Euro/Dollar' } },
                    { symbol: 'GBPUSD=X', name: 'GBP/USD', label: { ar: 'ÿ®ÿßŸàŸÜÿØ/ÿØŸàŸÑÿßÿ±', en: 'Pound/Dollar' } },
                    { symbol: 'USDJPY=X', name: 'USD/JPY', label: { ar: 'ÿØŸàŸÑÿßÿ±/ŸäŸÜ', en: 'Dollar/Yen' } },
                    { symbol: 'AUDUSD=X', name: 'AUD/USD', label: { ar: 'ÿßÿ≥ÿ™ÿ±ÿßŸÑŸä', en: 'Australian' } },
                    { symbol: 'USDCAD=X', name: 'USD/CAD', label: { ar: 'ÿØŸàŸÑÿßÿ±/ŸÉŸÜÿØŸä', en: 'Dollar/CAD' } },
                    { symbol: 'NZDUSD=X', name: 'NZD/USD', label: { ar: 'ŸÜŸäŸàÿ≤ŸÑŸÜÿØŸä', en: 'NZD' } },
                    { symbol: 'USDCHF=X', name: 'USD/CHF', label: { ar: 'ÿØŸàŸÑÿßÿ±/ŸÅÿ±ŸÜŸÉ', en: 'Dollar/CHF' } },
                    { symbol: 'EURGBP=X', name: 'EUR/GBP', label: { ar: 'ŸäŸàÿ±Ÿà/ÿ®ÿßŸàŸÜÿØ', en: 'Euro/Pound' } },
                ]
            },
            metals: {
                icon: 'ü•á',
                name: { ar: 'ŸÖÿπÿßÿØŸÜ', en: 'Metals' },
                pairs: [
                    { symbol: 'GC=F', name: 'XAU/USD', label: { ar: 'ÿßŸÑÿ∞Ÿáÿ®', en: 'Gold' } },
                    { symbol: 'SI=F', name: 'XAG/USD', label: { ar: 'ÿßŸÑŸÅÿ∂ÿ©', en: 'Silver' } },
                    { symbol: 'PL=F', name: 'XPT/USD', label: { ar: 'ÿßŸÑÿ®ŸÑÿßÿ™ŸäŸÜ', en: 'Platinum' } },
                    { symbol: 'HG=F', name: 'Copper', label: { ar: 'ÿßŸÑŸÜÿ≠ÿßÿ≥', en: 'Copper' } },
                ]
            },
            indices: {
                icon: 'üìä',
                name: { ar: 'ŸÖÿ§ÿ¥ÿ±ÿßÿ™', en: 'Indices' },
                pairs: [
                    { symbol: '^GSPC', name: 'S&P 500', label: { ar: 'ÿ•ÿ≥ ÿ¢ŸÜÿØ ÿ®Ÿä', en: 'S&P 500' } },
                    { symbol: '^DJI', name: 'Dow Jones', label: { ar: 'ÿØÿßŸà ÿ¨ŸàŸÜÿ≤', en: 'Dow Jones' } },
                    { symbol: '^IXIC', name: 'NASDAQ', label: { ar: 'ŸÜÿßÿ≥ÿØÿßŸÉ', en: 'NASDAQ' } },
                    { symbol: '^GDAXI', name: 'DAX', label: { ar: 'ÿØÿßŸÉÿ≥', en: 'DAX' } },
                ]
            }
        };
        
        let selectedPairs = [];
        let isMonitoring = false;
        let monitorInterval = null;
        
        // Toggle Card
        function toggleCard(cardId) {
            const card = document.getElementById(cardId);
            card.classList.toggle('active');
        }
        
        function toggleCategory(catId) {
            const cat = document.getElementById(`cat-${catId}`);
            document.querySelectorAll('.category-card').forEach(c => {
                if (c.id !== `cat-${catId}`) c.classList.remove('active');
            });
            cat.classList.toggle('active');
        }
        
        function updateCardValue(cardId, valueId, text) {
            document.getElementById(valueId).textContent = text;
            saveSettings();
        }
        
        // Build Categories
        function buildCategories() {
            const container = document.getElementById('categoriesGrid');
            container.innerHTML = '';
            
            for (const [catId, cat] of Object.entries(categoriesData)) {
                const catCard = document.createElement('div');
                catCard.className = 'category-card';
                catCard.id = `cat-${catId}`;
                
                const selectedInCat = selectedPairs.filter(p => 
                    cat.pairs.some(cp => cp.symbol === p.symbol)
                ).length;
                
                catCard.innerHTML = `
                    <div class="category-header" onclick="toggleCategory('${catId}')">
                        <div class="category-title">
                            <span>${cat.icon}</span>
                            <span>${cat.name[currentLang]}</span>
                        </div>
                        <span class="category-count" id="count-${catId}">${selectedInCat}</span>
                    </div>
                    <div class="category-items" id="items-${catId}"></div>
                `;
                
                container.appendChild(catCard);
                
                const itemsContainer = document.getElementById(`items-${catId}`);
                cat.pairs.forEach(pair => {
                    const isSelected = selectedPairs.some(p => p.symbol === pair.symbol);
                    const item = document.createElement('div');
                    item.className = `pair-item${isSelected ? ' selected' : ''}`;
                    item.dataset.symbol = pair.symbol;
                    item.innerHTML = `<div class="pair-checkbox">‚úì</div><span>${pair.name}</span>`;
                    item.onclick = () => togglePair(pair, catId, item);
                    itemsContainer.appendChild(item);
                });
            }
        }
        
        function togglePair(pair, catId, element) {
            const existingIndex = selectedPairs.findIndex(p => p.symbol === pair.symbol);
            
            if (existingIndex > -1) {
                element.classList.remove('selected');
                selectedPairs.splice(existingIndex, 1);
            } else {
                element.classList.add('selected');
                selectedPairs.push({
                    symbol: pair.symbol,
                    name: pair.name,
                    label: pair.label[currentLang]
                });
            }
            
            updateCounts();
            updateStartButton();
            saveSettings();
        }
        
        function updateCounts() {
            for (const [catId, cat] of Object.entries(categoriesData)) {
                const count = selectedPairs.filter(p => 
                    cat.pairs.some(cp => cp.symbol === p.symbol)
                ).length;
                document.getElementById(`count-${catId}`).textContent = count;
            }
            document.getElementById('pairsCount').textContent = selectedPairs.length;
            updateTotalSelected();
        }
        
        function updateTotalSelected() {
            const total = selectedPairs.length;
            const text = currentLang === 'ar' ? `${total} ÿ≤Ÿàÿ¨ ŸÖÿ≠ÿØÿØ` : `${total} pairs selected`;
            document.getElementById('totalSelected').innerHTML = total > 0 ? `<span>${text}</span>` : '';
        }
        
        function updateNotifyValue() {
            const ntfy = document.getElementById('ntfyChannel').value;
            const tg = document.getElementById('telegramChat').value;
            
            let value = '--';
            if (ntfy && tg) value = 'Ntfy + TG';
            else if (ntfy) value = 'Ntfy';
            else if (tg) value = 'Telegram';
            
            document.getElementById('notifyValue').textContent = value;
            saveSettings();
        }
        
        function updateStartButton() {
            const apiKey = document.getElementById('apiKey').value;
            document.getElementById('startBtn').disabled = !apiKey || selectedPairs.length === 0;
        }
        
        // Save/Load Settings
        function saveSettings() {
            localStorage.setItem('aiType', document.getElementById('aiType').value);
            localStorage.setItem('apiKey', document.getElementById('apiKey').value);
            localStorage.setItem('strategy', document.getElementById('strategy').value);
            localStorage.setItem('ntfyChannel', document.getElementById('ntfyChannel').value);
            localStorage.setItem('telegramChat', document.getElementById('telegramChat').value);
            localStorage.setItem('telegramToken', document.getElementById('telegramToken').value);
            localStorage.setItem('useChart', document.getElementById('useChart').checked);
            localStorage.setItem('selectedPairs', JSON.stringify(selectedPairs));
        }
        
        function loadSettings() {
            const aiType = localStorage.getItem('aiType') || 'openai';
            const apiKey = localStorage.getItem('apiKey') || '';
            const strategy = localStorage.getItem('strategy') || 'rsi';
            const ntfy = localStorage.getItem('ntfyChannel') || '';
            const tgChat = localStorage.getItem('telegramChat') || '';
            const tgToken = localStorage.getItem('telegramToken') || '';
            const useChart = localStorage.getItem('useChart') !== 'false';
            const savedPairs = JSON.parse(localStorage.getItem('selectedPairs') || '[]');
            
            document.getElementById('aiType').value = aiType;
            document.getElementById('apiKey').value = apiKey;
            document.getElementById('strategy').value = strategy;
            document.getElementById('ntfyChannel').value = ntfy;
            document.getElementById('telegramChat').value = tgChat;
            document.getElementById('telegramToken').value = tgToken;
            document.getElementById('useChart').checked = useChart;
            
            document.getElementById('aiValue').textContent = document.getElementById('aiType').options[document.getElementById('aiType').selectedIndex].text.split(' ')[0];
            document.getElementById('strategyValue').textContent = document.getElementById('strategy').value.toUpperCase();
            
            updateNotifyValue();
            
            selectedPairs = savedPairs;
            buildCategories();
            updateCounts();
            updateStartButton();
        }
        
        // Event Listeners
        document.getElementById('apiKey').addEventListener('input', () => { updateStartButton(); saveSettings(); });
        document.getElementById('aiType').addEventListener('change', saveSettings);
        document.getElementById('strategy').addEventListener('change', saveSettings);
        document.getElementById('useChart').addEventListener('change', saveSettings);
        
        // Monitoring
        function toggleMonitoring() {
            if (isMonitoring) stopMonitoring();
            else startMonitoring();
        }
        
        function startMonitoring() {
            if (selectedPairs.length === 0 || !document.getElementById('apiKey').value) return;
            
            isMonitoring = true;
            const btn = document.getElementById('startBtn');
            btn.textContent = currentLang === 'ar' ? 'ÿ•ŸäŸÇÿßŸÅ ÿßŸÑŸÖÿ±ÿßŸÇÿ®ÿ©' : 'Stop Monitoring';
            btn.classList.add('stop-btn');
            
            const statusText = currentLang === 'ar' ? `Ÿäÿ±ÿßŸÇÿ® ${selectedPairs.length} ÿ≤Ÿàÿ¨` : `Monitoring ${selectedPairs.length} pairs`;
            document.getElementById('statusText').textContent = statusText;
            document.getElementById('waiting').classList.add('active');
            document.getElementById('signalCard').className = 'signal-card';
            
            checkMarket();
            monitorInterval = setInterval(checkMarket, 120000);
        }
        
        function stopMonitoring() {
            isMonitoring = false;
            const btn = document.getElementById('startBtn');
            btn.textContent = currentLang === 'ar' ? 'ÿßÿ®ÿØÿ£ ÿßŸÑŸÖÿ±ÿßŸÇÿ®ÿ©' : 'Start Monitoring';
            btn.classList.remove('stop-btn');
            
            document.getElementById('statusText').textContent = currentLang === 'ar' ? 'ÿ¨ÿßŸáÿ≤ ŸÑŸÑŸÖÿ±ÿßŸÇÿ®ÿ©' : 'Ready to monitor';
            document.getElementById('waiting').classList.remove('active');
            document.getElementById('signalCard').className = 'signal-card';
            
            if (monitorInterval) clearInterval(monitorInterval);
        }
        
        async function checkMarket() {
            if (!isMonitoring) return;
            
            document.getElementById('statusText').textContent = currentLang === 'ar' ? 'ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ...' : 'Analyzing...';
            
            const apiKey = document.getElementById('apiKey').value;
            const aiType = document.getElementById('aiType').value;
            const strategy = document.getElementById('strategy').value;
            const ntfy = document.getElementById('ntfyChannel').value;
            const tgChat = document.getElementById('telegramChat').value;
            const tgToken = document.getElementById('telegramToken').value;
            const useChart = document.getElementById('useChart').checked ? 'true' : 'false';
            
            for (const pair of selectedPairs) {
                try {
                    const response = await fetch(`/api/analyze?symbol=${encodeURIComponent(pair.symbol)}&name=${encodeURIComponent(pair.label)}&apiKey=${encodeURIComponent(apiKey)}&ai=${aiType}&strategy=${strategy}&ntfy=${encodeURIComponent(ntfy)}&tgChat=${encodeURIComponent(tgChat)}&tgToken=${encodeURIComponent(tgToken)}&useChart=${useChart}`);
                    const data = await response.json();
                    
                    if (data.signal && !data.signal.includes('‚è≥')) {
                        showSignal(data, pair);
                    }
                    
                    await new Promise(r => setTimeout(r, 2000));
                } catch (error) {
                    console.error('Error:', error);
                }
            }
            
            const statusText = currentLang === 'ar' ? `Ÿäÿ±ÿßŸÇÿ® ${selectedPairs.length} ÿ≤Ÿàÿ¨` : `Monitoring ${selectedPairs.length} pairs`;
            document.getElementById('statusText').textContent = statusText;
        }
        
        function showSignal(data, pair) {
            const isBuy = data.signal.includes('BUY') || data.signal.includes('ÿ¥ÿ±ÿßÿ°');
            const card = document.getElementById('signalCard');
            
            card.className = `signal-card ${isBuy ? 'buy' : 'sell'}`;
            document.getElementById('signalType').textContent = isBuy ? 'üü¢ ' + (currentLang === 'ar' ? 'ÿ¥ÿ±ÿßÿ°' : 'BUY') : 'üî¥ ' + (currentLang === 'ar' ? 'ÿ®Ÿäÿπ' : 'SELL');
            document.getElementById('signalType').className = `signal-type ${isBuy ? 'buy' : 'sell'}`;
            document.getElementById('signalPair').textContent = pair.label;
            document.getElementById('entryPrice').textContent = data.entry || data.price || '--';
            document.getElementById('slPrice').textContent = data.sl || '--';
            document.getElementById('tpPrice').textContent = data.tp || '--';
            document.getElementById('lotSize').textContent = data.lot || '0.01';
        }
        
        // Init
        setLang(currentLang);
        loadSettings();
        
        // Load intro state
        if (introCollapsed) {
            document.getElementById('introSection').classList.add('collapsed');
            const btn = document.querySelector('.intro-toggle-btn');
            btn.setAttribute('data-ar', 'ÿ•ÿ∏Ÿáÿßÿ± ÿßŸÑŸÖŸÇÿØŸÖÿ© ‚ñº');
            btn.setAttribute('data-en', 'Show intro ‚ñº');
            btn.textContent = btn.getAttribute(`data-${currentLang}`);
        }
    </script>
</body>
</html>
